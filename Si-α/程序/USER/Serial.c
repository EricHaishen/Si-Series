#include "Port.h"
#include "Serial.h"
#include "STC12_IT.h"
void UART1_Int(void) interrupt 4 
{ 
	if (RI == 1) 
	{ 
		RI = 0; 
		USART_IT_Confguration(SBUF); 
	} 
} 
void Serial_Init(void)
{
 	 EA = 1;
	 ES = 1;
   PCON &= 0x7f;  //??????
   SCON = 0x50;  //8???,?????
   BRT = 0xFD;      //?????????????
   AUXR |= 0x04;  //???????????Fosc,?1T
   AUXR |= 0x01;  //??1?????????????????
   AUXR |= 0x10;  //??????????
}
char putchar (unsigned char i)
{
    ES     =   0;  //?????
    TI     =   0;  //??????????????
    SBUF   =   i;
    while(TI ==0); //??????
    TI     =   0;  //??????????????
    ES     =   1;  //??????
    return SBUF;
}
